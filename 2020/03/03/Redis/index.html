<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Redis | 惑</title><meta name="description" content="Redis"><meta name="keywords" content="Redis"><meta name="author" content="惑"><meta name="copyright" content="惑"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Redis"><meta name="twitter:description" content="Redis"><meta name="twitter:image" content="http://q8rorzm33.bkt.clouddn.com/%E7%83%AD%E7%88%B1%E5%AD%A6%E4%B9%A07.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Redis"><meta property="og:url" content="https://huohuohuohuohuohuo.github.io/2020/03/03/Redis/"><meta property="og:site_name" content="惑"><meta property="og:description" content="Redis"><meta property="og:image" content="http://q8rorzm33.bkt.clouddn.com/%E7%83%AD%E7%88%B1%E5%AD%A6%E4%B9%A07.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://huohuohuohuohuohuo.github.io/2020/03/03/Redis/"><link rel="prev" title="SpringBoot整合Redis" href="https://huohuohuohuohuohuo.github.io/2020/03/05/SpringBoot%E6%95%B4%E5%90%88Redis/"><link rel="next" title="Vue2" href="https://huohuohuohuohuohuo.github.io/2020/02/27/Vue2/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://huohuohuohuohuohuo.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">惑</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis简介"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Redis简介</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#NoSQL介绍"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">NoSQL介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#NoSQL数据库的四大分类"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">NoSQL数据库的四大分类</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#键值-Key-Value-存储数据库"><span class="toc_mobile_items-number">1.2.0.1.</span> <span class="toc_mobile_items-text">键值(Key-Value)存储数据库</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#列存储数据库"><span class="toc_mobile_items-number">1.2.0.2.</span> <span class="toc_mobile_items-text">列存储数据库</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#文档型数据库"><span class="toc_mobile_items-number">1.2.0.3.</span> <span class="toc_mobile_items-text">文档型数据库</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#图形-Graph-数据库"><span class="toc_mobile_items-number">1.2.0.4.</span> <span class="toc_mobile_items-text">图形(Graph)数据库</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Redis与其他key-value-缓存产品有以下三个特点"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">Redis与其他key - value 缓存产品有以下三个特点:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#特点"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">特点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Redis总结"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">Redis总结</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis安装"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">Redis安装</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis启动"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">Redis启动</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#启动Redis服务"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">启动Redis服务</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#启动Redis的客户端"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">启动Redis的客户端</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Linux-配置-Redis"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">Linux 配置 Redis</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Redis-conf配置文件详解"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">Redis.conf配置文件详解</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#自定义配置Redis"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">自定义配置Redis</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis启动-1"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">Redis启动</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#服务端启动"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">服务端启动</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#客户端启动"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">客户端启动</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#远程服务上执行命令"><span class="toc_mobile_items-number">5.2.1.</span> <span class="toc_mobile_items-text">远程服务上执行命令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#本地登录"><span class="toc_mobile_items-number">5.2.2.</span> <span class="toc_mobile_items-text">本地登录</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis关闭"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">Redis关闭</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis命令描述"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">Redis命令描述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Redis键-key"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">Redis键 key</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#应用场景"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#key命名规范"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">key命名规范</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Redis数据类型"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">Redis数据类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#String"><span class="toc_mobile_items-number">9.1.</span> <span class="toc_mobile_items-text">String</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介"><span class="toc_mobile_items-number">9.1.1.</span> <span class="toc_mobile_items-text">简介</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#String命令"><span class="toc_mobile_items-number">9.2.</span> <span class="toc_mobile_items-text">String命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#赋值语法"><span class="toc_mobile_items-number">9.2.1.</span> <span class="toc_mobile_items-text">赋值语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#取值语法"><span class="toc_mobile_items-number">9.2.2.</span> <span class="toc_mobile_items-text">取值语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除语法"><span class="toc_mobile_items-number">9.2.3.</span> <span class="toc_mobile_items-text">删除语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#自增-自减"><span class="toc_mobile_items-number">9.2.4.</span> <span class="toc_mobile_items-text">自增&#x2F;自减:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#应用场景-1"><span class="toc_mobile_items-number">9.2.5.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#哈希（Hash）"><span class="toc_mobile_items-number">9.3.</span> <span class="toc_mobile_items-text">哈希（Hash）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介-1"><span class="toc_mobile_items-number">9.3.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Hash命令"><span class="toc_mobile_items-number">9.3.2.</span> <span class="toc_mobile_items-text">Hash命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#赋值语法："><span class="toc_mobile_items-number">9.3.2.1.</span> <span class="toc_mobile_items-text">赋值语法：</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#取值语法："><span class="toc_mobile_items-number">9.3.2.2.</span> <span class="toc_mobile_items-text">取值语法：</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#删除语法-1"><span class="toc_mobile_items-number">9.3.2.3.</span> <span class="toc_mobile_items-text">删除语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#其它语法"><span class="toc_mobile_items-number">9.3.2.4.</span> <span class="toc_mobile_items-text">其它语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#应用场景-2"><span class="toc_mobile_items-number">9.3.2.5.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#List"><span class="toc_mobile_items-number">9.4.</span> <span class="toc_mobile_items-text">List</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介-2"><span class="toc_mobile_items-number">9.4.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#命令"><span class="toc_mobile_items-number">9.4.2.</span> <span class="toc_mobile_items-text">命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#赋值语法-1"><span class="toc_mobile_items-number">9.4.2.1.</span> <span class="toc_mobile_items-text">赋值语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#取值语法-1"><span class="toc_mobile_items-number">9.4.2.2.</span> <span class="toc_mobile_items-text">取值语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#删除语法-2"><span class="toc_mobile_items-number">9.4.2.3.</span> <span class="toc_mobile_items-text">删除语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#修改语法"><span class="toc_mobile_items-number">9.4.2.4.</span> <span class="toc_mobile_items-text">修改语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#高级语法"><span class="toc_mobile_items-number">9.4.2.5.</span> <span class="toc_mobile_items-text">高级语法</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#应用场景-3"><span class="toc_mobile_items-number">9.4.3.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Set类型"><span class="toc_mobile_items-number">9.5.</span> <span class="toc_mobile_items-text">Set类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介-3"><span class="toc_mobile_items-number">9.5.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#命令-1"><span class="toc_mobile_items-number">9.5.2.</span> <span class="toc_mobile_items-text">命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#赋值语法-2"><span class="toc_mobile_items-number">9.5.2.1.</span> <span class="toc_mobile_items-text">赋值语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#取值语法-2"><span class="toc_mobile_items-number">9.5.2.2.</span> <span class="toc_mobile_items-text">取值语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#删除语法-3"><span class="toc_mobile_items-number">9.5.2.3.</span> <span class="toc_mobile_items-text">删除语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#差集语法"><span class="toc_mobile_items-number">9.5.2.4.</span> <span class="toc_mobile_items-text">差集语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#交集语法"><span class="toc_mobile_items-number">9.5.2.5.</span> <span class="toc_mobile_items-text">交集语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#并集语法"><span class="toc_mobile_items-number">9.5.2.6.</span> <span class="toc_mobile_items-text">并集语法</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#应用场景-4"><span class="toc_mobile_items-number">9.5.3.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#zset"><span class="toc_mobile_items-number">9.6.</span> <span class="toc_mobile_items-text">zset</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介-4"><span class="toc_mobile_items-number">9.6.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#命令-2"><span class="toc_mobile_items-number">9.6.2.</span> <span class="toc_mobile_items-text">命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#赋值语法-3"><span class="toc_mobile_items-number">9.6.2.1.</span> <span class="toc_mobile_items-text">赋值语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#取值语法-3"><span class="toc_mobile_items-number">9.6.2.2.</span> <span class="toc_mobile_items-text">取值语法:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#删除语法-4"><span class="toc_mobile_items-number">9.6.2.3.</span> <span class="toc_mobile_items-text">删除语法:</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#应用场景-5"><span class="toc_mobile_items-number">9.6.3.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#HyperLogLog"><span class="toc_mobile_items-number">9.7.</span> <span class="toc_mobile_items-text">HyperLogLog</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介-5"><span class="toc_mobile_items-number">9.7.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#为什么需要HyperLogLog"><span class="toc_mobile_items-number">9.7.2.</span> <span class="toc_mobile_items-text">为什么需要HyperLogLog</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#命令-3"><span class="toc_mobile_items-number">9.7.3.</span> <span class="toc_mobile_items-text">命令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#应用场景-6"><span class="toc_mobile_items-number">9.7.4.</span> <span class="toc_mobile_items-text">应用场景</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis简介"><span class="toc-number">1.</span> <span class="toc-text">Redis简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#NoSQL介绍"><span class="toc-number">1.1.</span> <span class="toc-text">NoSQL介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NoSQL数据库的四大分类"><span class="toc-number">1.2.</span> <span class="toc-text">NoSQL数据库的四大分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#键值-Key-Value-存储数据库"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">键值(Key-Value)存储数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#列存储数据库"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">列存储数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#文档型数据库"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">文档型数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图形-Graph-数据库"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">图形(Graph)数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis与其他key-value-缓存产品有以下三个特点"><span class="toc-number">1.3.</span> <span class="toc-text">Redis与其他key - value 缓存产品有以下三个特点:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#特点"><span class="toc-number">1.4.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis总结"><span class="toc-number">1.5.</span> <span class="toc-text">Redis总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis安装"><span class="toc-number">2.</span> <span class="toc-text">Redis安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis启动"><span class="toc-number">3.</span> <span class="toc-text">Redis启动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#启动Redis服务"><span class="toc-number">3.1.</span> <span class="toc-text">启动Redis服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#启动Redis的客户端"><span class="toc-number">3.2.</span> <span class="toc-text">启动Redis的客户端</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-配置-Redis"><span class="toc-number">4.</span> <span class="toc-text">Linux 配置 Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-conf配置文件详解"><span class="toc-number">4.1.</span> <span class="toc-text">Redis.conf配置文件详解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义配置Redis"><span class="toc-number">4.2.</span> <span class="toc-text">自定义配置Redis</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis启动-1"><span class="toc-number">5.</span> <span class="toc-text">Redis启动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#服务端启动"><span class="toc-number">5.1.</span> <span class="toc-text">服务端启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#客户端启动"><span class="toc-number">5.2.</span> <span class="toc-text">客户端启动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#远程服务上执行命令"><span class="toc-number">5.2.1.</span> <span class="toc-text">远程服务上执行命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本地登录"><span class="toc-number">5.2.2.</span> <span class="toc-text">本地登录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis关闭"><span class="toc-number">6.</span> <span class="toc-text">Redis关闭</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis命令描述"><span class="toc-number">7.</span> <span class="toc-text">Redis命令描述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis键-key"><span class="toc-number">7.1.</span> <span class="toc-text">Redis键 key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应用场景"><span class="toc-number">7.2.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#key命名规范"><span class="toc-number">8.</span> <span class="toc-text">key命名规范</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis数据类型"><span class="toc-number">9.</span> <span class="toc-text">Redis数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#String"><span class="toc-number">9.1.</span> <span class="toc-text">String</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">9.1.1.</span> <span class="toc-text">简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String命令"><span class="toc-number">9.2.</span> <span class="toc-text">String命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#赋值语法"><span class="toc-number">9.2.1.</span> <span class="toc-text">赋值语法:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#取值语法"><span class="toc-number">9.2.2.</span> <span class="toc-text">取值语法:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除语法"><span class="toc-number">9.2.3.</span> <span class="toc-text">删除语法:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自增-自减"><span class="toc-number">9.2.4.</span> <span class="toc-text">自增&#x2F;自减:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用场景-1"><span class="toc-number">9.2.5.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#哈希（Hash）"><span class="toc-number">9.3.</span> <span class="toc-text">哈希（Hash）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介-1"><span class="toc-number">9.3.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash命令"><span class="toc-number">9.3.2.</span> <span class="toc-text">Hash命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#赋值语法："><span class="toc-number">9.3.2.1.</span> <span class="toc-text">赋值语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#取值语法："><span class="toc-number">9.3.2.2.</span> <span class="toc-text">取值语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除语法-1"><span class="toc-number">9.3.2.3.</span> <span class="toc-text">删除语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其它语法"><span class="toc-number">9.3.2.4.</span> <span class="toc-text">其它语法:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#应用场景-2"><span class="toc-number">9.3.2.5.</span> <span class="toc-text">应用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List"><span class="toc-number">9.4.</span> <span class="toc-text">List</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介-2"><span class="toc-number">9.4.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令"><span class="toc-number">9.4.2.</span> <span class="toc-text">命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#赋值语法-1"><span class="toc-number">9.4.2.1.</span> <span class="toc-text">赋值语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#取值语法-1"><span class="toc-number">9.4.2.2.</span> <span class="toc-text">取值语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除语法-2"><span class="toc-number">9.4.2.3.</span> <span class="toc-text">删除语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修改语法"><span class="toc-number">9.4.2.4.</span> <span class="toc-text">修改语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#高级语法"><span class="toc-number">9.4.2.5.</span> <span class="toc-text">高级语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用场景-3"><span class="toc-number">9.4.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set类型"><span class="toc-number">9.5.</span> <span class="toc-text">Set类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介-3"><span class="toc-number">9.5.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令-1"><span class="toc-number">9.5.2.</span> <span class="toc-text">命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#赋值语法-2"><span class="toc-number">9.5.2.1.</span> <span class="toc-text">赋值语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#取值语法-2"><span class="toc-number">9.5.2.2.</span> <span class="toc-text">取值语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除语法-3"><span class="toc-number">9.5.2.3.</span> <span class="toc-text">删除语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#差集语法"><span class="toc-number">9.5.2.4.</span> <span class="toc-text">差集语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#交集语法"><span class="toc-number">9.5.2.5.</span> <span class="toc-text">交集语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#并集语法"><span class="toc-number">9.5.2.6.</span> <span class="toc-text">并集语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用场景-4"><span class="toc-number">9.5.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zset"><span class="toc-number">9.6.</span> <span class="toc-text">zset</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介-4"><span class="toc-number">9.6.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令-2"><span class="toc-number">9.6.2.</span> <span class="toc-text">命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#赋值语法-3"><span class="toc-number">9.6.2.1.</span> <span class="toc-text">赋值语法:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#取值语法-3"><span class="toc-number">9.6.2.2.</span> <span class="toc-text">取值语法:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除语法-4"><span class="toc-number">9.6.2.3.</span> <span class="toc-text">删除语法:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用场景-5"><span class="toc-number">9.6.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HyperLogLog"><span class="toc-number">9.7.</span> <span class="toc-text">HyperLogLog</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介-5"><span class="toc-number">9.7.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么需要HyperLogLog"><span class="toc-number">9.7.2.</span> <span class="toc-text">为什么需要HyperLogLog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令-3"><span class="toc-number">9.7.3.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用场景-6"><span class="toc-number">9.7.4.</span> <span class="toc-text">应用场景</span></a></li></ol></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(http://q8rorzm33.bkt.clouddn.com/%E7%83%AD%E7%88%B1%E5%AD%A6%E4%B9%A07.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Redis</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-03-03<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-04-14</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">Redis</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">6.9k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 23 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2020/03/03/Redis/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/03/03/Redis/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Redis简介"><a href="#Redis简介" class="headerlink" title="Redis简介"></a>Redis简介</h1><p><a href="/2020/03/03/Redis/redis-white.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/redis-white.png" class="lazyload"></a></p>
<blockquote>
<p><a href="https://redis.io/" target="_blank" rel="noopener">Redis</a>是完全开源免费的，遵守BSD协议，是一个高性能(NOSQL)的key-v<br>alue数据库, Redis是一个开源的使用ANSI  C语言 编写、支持网络、可基于内<br>存亦可持久化的日志型、Key-Value 数据库，并提供多种语言的API。从2010<br>年3月15日起，Redis 的开发工作由VMware主持。从2013年5月开始，Redis<br>的开发由Pivotal赞助。(Vmware 在资助看redis项目的开发和维护)</p>
<hr>


<p>BSD是”Derkeley Software Distribution”的缩写，意思是“伯克利软件发行版”。<br>BSD开源协议是一个给于使用者很大自由的协议。可以自由的使用，修改源代码，也可以将修改后的代码<br>作为开源或者专有软件再发布。BSD代码鼓励代码共享，但需要尊重代码作者的著作权。BSD由于允t许使用<br>者能改和重新发布代码，也允许使用或在BSD代码上开发商业软件发布和销售，因此是对商业很友好的协议。</p>
</blockquote>
<a id="more"></a>

<h2 id="NoSQL介绍"><a href="#NoSQL介绍" class="headerlink" title="NoSQL介绍"></a>NoSQL介绍</h2><blockquote>
<p>NoSQL,泛指非关系型的数据库。随着互联网web2.0网站的兴起，传统的关系数<br>据库在应付web2.0网站，特别是超大规模和高并发的SNS类型的web2.0纯动态<br>网站已经显得力不从心，暴露了很多难以克服的问题，而非关系型的数据库则由<br>于其本身的特点得到了非常迅速的发展。NoSQL数据库的产生就是为了解决大规<br>模数据集合多重数据种类带来的挑战，尤其是大数据应用难题。</p>
</blockquote>
<h2 id="NoSQL数据库的四大分类"><a href="#NoSQL数据库的四大分类" class="headerlink" title="NoSQL数据库的四大分类"></a>NoSQL数据库的四大分类</h2><blockquote>
<h4 id="键值-Key-Value-存储数据库"><a href="#键值-Key-Value-存储数据库" class="headerlink" title="键值(Key-Value)存储数据库"></a>键值(Key-Value)存储数据库</h4><p>这一类数据库主要会使用到一个哈希表，这个表中有一个特定的键和一个指针指<br>向特定的数据。Key/value模型对于IT系统来说的优势在于简单、易部署。但是如果DBA 只对部分值进行查询或更新的时候，Key/value 就显得效率低下了。<br>举例如: TokyoCabinet/Tyrant, Redis, Voldemort, Oracle BDp.</p>
</blockquote>
<blockquote>
<h4 id="列存储数据库"><a href="#列存储数据库" class="headerlink" title="列存储数据库"></a>列存储数据库</h4><p>这部分数据库通常是用来应对分布式存储的海量数据。键仍然存在，但是它们的特<br>点是指向了多个列。这些列是由列家族来安排的。如: Cassandra, HBase, Riak.</p>
</blockquote>
<blockquote>
<h4 id="文档型数据库"><a href="#文档型数据库" class="headerlink" title="文档型数据库"></a>文档型数据库</h4><p>文档型数据库的灵感是来自于Lotus Notes办公软件的，而且它同第一种 键值存储<br>相类似。该类型的数据模型是版本化的文档,半结构化的文档以特定的格式存储,比如JSON。<br>文档型数据库可以看作是键值数据库的升级版，允许之间嵌套键值。而且文档型数据库比键值数据库的查询效率更高。如: CouchDB, MongoDb. 国内也有文档型数据库SequoiaDB,已经开源。</p>
</blockquote>
<blockquote>
<h4 id="图形-Graph-数据库"><a href="#图形-Graph-数据库" class="headerlink" title="图形(Graph)数据库"></a>图形(Graph)数据库</h4><p>图形结构的数据库同其他行列以及刚性结构的SQL数据库不同,它是使用灵活的图<br>形模型，并且能够扩展到多个服务器上。NoSQL 数据库没有标准的查询语言(SQL)，因此进行数据库查询需要制定数据模型。许多NoSQL数据库都有REST式的数据接口或者查询API。<br>如: Neo4J， InfoGrid, Infinite Gr aph.</p>
<hr>
</blockquote>
<p><strong>因此，我们总结NoSQL数据库在以下的这几种情况下比较适用:</strong> </p>
<ol>
<li>数据模型比较简单;</li>
<li>需要灵活性更强的IT系统;</li>
<li>对数据库性能要求较高; </li>
<li>不需要高度的数据一致</li>
<li>对于给定key,比较容易映射复杂值的环境。</li>
</ol>
<h2 id="Redis与其他key-value-缓存产品有以下三个特点"><a href="#Redis与其他key-value-缓存产品有以下三个特点" class="headerlink" title="Redis与其他key - value 缓存产品有以下三个特点:"></a>Redis与其他key - value 缓存产品有以下三个特点:</h2><ul>
<li>Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。</li>
<li>Redis 不仅仅支持简单的key-value类型的数据，同时还提供list, set, zset, hash 等数据结构的存储。</li>
<li>Redis 支持数据的备份，集群等高可用功能。</li>
</ul>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul>
<li>性能极高 - Redis 能读的速度是110000次/s,写的速度是81000次/s</li>
<li>丰富的数据类型 - Redis 支持的类型String, List, Hash, Set及Ordered Set数据类型操作。</li>
<li>原子-Redis 的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。</li>
<li>单个操作是原子性的。多个操作也支持事务，即原子性,通过MULTI和EXEC指令包起来。</li>
<li>丰富的特性- Redis 还支持publish/subscribe,通知，key 过期等等特性。</li>
</ul>
<blockquote>
<p>Redis是一一个简单的， 高效的，分布式的，基于内存的缓存工具。<br>架设好服务器后，通过网络连接(类似数据库)，提供Key - Value式缓存服务。<br>简单，是Redis突出的特色。<br>简单可以保证核心功能的稳定和优异。</p>
</blockquote>
<h2 id="Redis总结"><a href="#Redis总结" class="headerlink" title="Redis总结"></a>Redis总结</h2><blockquote>
<p>redis单个key存入512M大小.<br>redis支持多种类型的数据结构(string list,hash set .zset)<br>redis是单线程    原子性<br>redis可以持久化因为使用了RDB和AOF机制<br>redis支持集群  而且redis支持库(0-15)16个库<br>redis还可以做消息队列比如聊天室  IM</p>
</blockquote>
<blockquote>
<p>企业级开发中:可以用作数据库、缓存(热点数据(经常会被查询，但是不经常被修改或者删除的数据)和消息中间件等大部分功能。</p>
</blockquote>
<p><strong>优点</strong></p>
<ul>
<li>优点:</li>
<li>丰富的数据结构</li>
<li>高速读写,redis使用自己实现的分离器，代码量很短,没有使用lock(MySQL),因此效率非常高。</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>持久化。Redis直接将数据存储到内存中，要将数据保存到磁盘上，Redis可以使用两种方式实现持久化过程。定时快照(snapshot): 每隔一段时间将整个数据库写到磁盘上，每次均是写全部数据，代价非常高。第二种方式基于语句追加(aof): 只追踪变化的数据，但是追加的log可能过大，同时所有的操作均重新执行一遍，恢复复速度慢。</li>
<li>耗内存，占用内存过高。</li>
</ul>
<h1 id="Redis安装"><a href="#Redis安装" class="headerlink" title="Redis安装"></a>Redis安装</h1><blockquote>
<p>Redis是C语言开发，安装Redis需要先将官网下载的源码进行编译，编译依赖gcc环境，如果没有 gcc环境，需要安装gcc.</p>
</blockquote>
<blockquote>
<p>Linux系统上安装gcc</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc gcc-c++</span><br></pre></td></tr></table></figure></div>
</blockquote>
<p>将Redis通过 Xftp 上传到Linux</p>
<blockquote>
<p>解压Redis 并 进入目录 并 编译（也可以分开运行）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf redis-5.0.7.tar.gz &amp;&amp; cd redis-5.0.7 &amp;&amp; make</span><br></pre></td></tr></table></figure></div>
</blockquote>
<blockquote>
<p>安装编译后的文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;redis install</span><br></pre></td></tr></table></figure></div>
</blockquote>
<p>没有报错的话就安装完成了</p>
<h1 id="Redis启动"><a href="#Redis启动" class="headerlink" title="Redis启动"></a>Redis启动</h1><h2 id="启动Redis服务"><a href="#启动Redis服务" class="headerlink" title="启动Redis服务"></a>启动Redis服务</h2><p>进入对应的安装目录</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;redis</span><br></pre></td></tr></table></figure></div>

<p>执行命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-server</span><br></pre></td></tr></table></figure></div>

<p>这就可以看到Redis成功启动</p>
<p><a href="/2020/03/03/Redis/Redis-%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F%E5%9B%BE.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/Redis-%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F%E5%9B%BE.png" class="lazyload"></a></p>
<p>Port为端口号</p>
<h2 id="启动Redis的客户端"><a href="#启动Redis的客户端" class="headerlink" title="启动Redis的客户端"></a>启动Redis的客户端</h2><p>进入Redis客户端 （Clone Session 克隆一个窗口）</p>
<p>进入对应的安装目录</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;redis</span><br></pre></td></tr></table></figure></div>

<p>执行命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-cli</span><br></pre></td></tr></table></figure></div>

<p><a href="/2020/03/03/Redis/9P5I%7DQZ%60K41PET@BKIGRAED.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/9P5I%7DQZ%60K41PET@BKIGRAED.png" class="lazyload"></a></p>
<p>看到这个就表示启动成功了</p>
<blockquote>
<p>启动Redis客户端命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h IP地址 -p端口</span><br></pre></td></tr></table></figure></div>

<p>退出客户端命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+c</span><br></pre></td></tr></table></figure></div>
</blockquote>
<p><strong>检测是否服务端启动</strong></p>
<p>启动redis 客户端，打开终端输入命令 redis-cli 该命令会连接本地的redis服务</p>
<p>使用 ping 命令检查是否成功</p>
<p><a href="/2020/03/03/Redis/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png" class="lazyload"></a></p>
<p>输出为PONG表示成功</p>
<h1 id="Linux-配置-Redis"><a href="#Linux-配置-Redis" class="headerlink" title="Linux 配置 Redis"></a>Linux 配置 Redis</h1><blockquote>
<p>Redis的配置文件位于Redis 安装目录下，文件名为redis. conf (windows名<br>为redis. windows. conf)。</p>
</blockquote>
<p>首先找到 Redis配置文件 redis.conf</p>
<p>打开终端输入<code>ll</code> 打印文件目录 找到 redis 安装目录，执行命令进入</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd redis-5.0.7</span><br></pre></td></tr></table></figure></div>

<p><a href="/2020/03/03/Redis/redisconf.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/redisconf.png" class="lazyload"></a></p>
<p>下一步就是把redis.conf复制到 redis安装目录下 与bin同级</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp redis.conf &#x2F;usr&#x2F;local&#x2F;redis   这里是我的安装目录</span><br></pre></td></tr></table></figure></div>

<p>复制完之后进入目录查看</p>
<p><a href="/2020/03/03/Redis/%E5%A4%8D%E5%88%B6%E6%88%90%E5%8A%9F.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/%E5%A4%8D%E5%88%B6%E6%88%90%E5%8A%9F.png" class="lazyload"></a></p>
<p>Redis 配置至此全部完成</p>
<h2 id="Redis-conf配置文件详解"><a href="#Redis-conf配置文件详解" class="headerlink" title="Redis.conf配置文件详解"></a>Redis.conf配置文件详解</h2><p>redis. conf 配置项说明如下:</p>
<ol>
<li><p>Redis默认不是以守护进程的方式运行,可以通过该配置项修改,使用yes启用守护进程</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">daemonize no</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<ol start="2">
<li><p>当Redis以守护进程方式运行时，Redis 默认会把pid写入/var/run/redis pid文件,可以通过pidfile指定</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pidfile &#x2F;var&#x2F;run&#x2F;redis.pid</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<ol start="3">
<li><p>指定Redis监听端口,默认端口为6379,为什么选用6379作为默认端口，因为6379在手机按键上MERZ对应的号码，而MERZ取自意大利歌女Alessia Merz 的名字</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port 6379</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<ol start="4">
<li><p>这玩意太多了不想写。。。。。。</p>
</li>
</ol>
<p><a href="https://blog.csdn.net/ymrfzr/article/details/51362125?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">https://blog.csdn.net/ymrfzr/article/details/51362125?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task</a></p>
<p>使用命令查看 Redis.conf文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less -mN redis.conf</span><br></pre></td></tr></table></figure></div>

<p><a href="/2020/03/03/Redis/conf1.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/conf1.png" class="lazyload"></a></p>
<p>bind 为 绑定 你的IP地址，表示Redis只有你才能连接</p>
<p>使用命令 / 在文件中搜索关键字</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;关键字</span><br></pre></td></tr></table></figure></div>

<p><a href="/2020/03/03/Redis/daemonize.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/daemonize.png" class="lazyload"></a></p>
<p>daemonize no 表示不是以守护进程的方式运行</p>
<p>将这个改为 yes 表示以守护进程的方式运行</p>
<p><a href="/2020/03/03/Redis/%E5%90%AF%E5%8A%A8%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/%E5%90%AF%E5%8A%A8%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B.png" class="lazyload"></a></p>
<p>你就可以在启动redis服务的页面继续使用命令了，没有启用之前是不可以的</p>
<p><strong>使用编程模式修改文件</strong></p>
<p>使用命令 vim redis.conf 修改 文件 （在redis目录中）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">按ESC键 跳到命令模式，然后：</span><br><span class="line"></span><br><span class="line">:w 保存文件但不退出vi</span><br><span class="line"></span><br><span class="line">:w file 将修改另外保存到file中，不退出vi</span><br><span class="line"></span><br><span class="line">:w! 强制保存，不推出vi</span><br><span class="line"></span><br><span class="line">:wq 保存文件并退出vi</span><br><span class="line"></span><br><span class="line">:wq! 强制保存文件，并退出vi</span><br><span class="line"></span><br><span class="line">:q 不保存文件，退出vi</span><br><span class="line"></span><br><span class="line">:q! 不保存文件，强制退出vi</span><br><span class="line"></span><br><span class="line">:e! 放弃所有修改，从上次保存文件开始再编辑</span><br><span class="line"></span><br><span class="line">i 修改</span><br><span class="line">u 撤回</span><br></pre></td></tr></table></figure></div>

<h2 id="自定义配置Redis"><a href="#自定义配置Redis" class="headerlink" title="自定义配置Redis"></a>自定义配置Redis</h2><p>下面几个默认配置必须修改</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">daemonized no 修改为 daemonized yes</span><br><span class="line">bind 127.0.0.1 注释掉</span><br><span class="line">requirepass 设置密码</span><br></pre></td></tr></table></figure></div>



<h1 id="Redis启动-1"><a href="#Redis启动-1" class="headerlink" title="Redis启动"></a>Redis启动</h1><h2 id="服务端启动"><a href="#服务端启动" class="headerlink" title="服务端启动"></a>服务端启动</h2><p>在 /user/local/redis 目录下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-server .&#x2F;redis.conf</span><br></pre></td></tr></table></figure></div>

<p><a href="/2020/03/03/Redis/redis%E5%90%AF%E5%8A%A82.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="/2020/03/03/Redis/redis%E5%90%AF%E5%8A%A82.png" class="lazyload"></a></p>
<p>查看已启动的进程</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep -i redis</span><br></pre></td></tr></table></figure></div>

<h2 id="客户端启动"><a href="#客户端启动" class="headerlink" title="客户端启动"></a>客户端启动</h2><p>同样是在 /user/local/redis 目录下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-cli</span><br></pre></td></tr></table></figure></div>



<h3 id="远程服务上执行命令"><a href="#远程服务上执行命令" class="headerlink" title="远程服务上执行命令"></a>远程服务上执行命令</h3><p>如果需要在远程redis 服务，上执行命令，同样我们使用的也是redis-cli 命令。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h host -p port -a password</span><br><span class="line">redis-cli -h IP地址 -p 端口 -a 密码</span><br></pre></td></tr></table></figure></div>

<h3 id="本地登录"><a href="#本地登录" class="headerlink" title="本地登录"></a>本地登录</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-cli -a yizhiduxiu</span><br></pre></td></tr></table></figure></div>

<h1 id="Redis关闭"><a href="#Redis关闭" class="headerlink" title="Redis关闭"></a>Redis关闭</h1><ol>
<li><p>断电、非正常关闭。容易数据丢失</p>
<p>查询PID </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep -i redis</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 PID 直接杀进程</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>正常关闭、数据保存</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bin&#x2F;redis-cli shutdown</span><br></pre></td></tr></table></figure></div>

<p>如果redis设置了密码，需要先在客户端通过密码登录，再进行 shutdown即可关闭</p>
</li>
</ol>
<h1 id="Redis命令描述"><a href="#Redis命令描述" class="headerlink" title="Redis命令描述"></a>Redis命令描述</h1><blockquote>
<p>Redlis命令用于在redis服务上执行操作。<br>要在redis服务上执行命令需要一个 redis客户端。<br>Redis客户端在我们之前下载的的redis的安装包中。</p>
</blockquote>
<h2 id="Redis键-key"><a href="#Redis键-key" class="headerlink" title="Redis键 key"></a>Redis键 key</h2><blockquote>
<p><strong>Redis键命令用于管理redis的键</strong><br><code>DEL key</code><br>该命令用于在key 存在时删除key。</p>
<p><code>DUMP key</code><br>序列化给定key，并返回被序列化的值。</p>
<p><code>EXISTS key</code><br>检查给定key 是否存在。</p>
<p><code>EXPIRE key seconds</code><br>为给定key设置过期时间(以秒计)。</p>
<p><code>PEXPIRE key milliseconds</code><br>设置key的过期时间以毫秒计。</p>
<p><code>TTL key</code><br>以秒为单位，返回给定key 的剩余生存时间(TL, time to live)  -1为永久有效  -2为无效</p>
<p><code>PTTL key</code><br>以毫秒为单位返回key的剩余的过期时间。</p>
<p><code>PERSIST KEY</code></p>
<p>移除key的过期时间，key 将持久保持</p>
<p><code>KEYS pattern</code><br>查找所有符合给定模式( pattern)的 key 。<br>keys通配符     获取所有与pattern匹配的key,返回所有与该匹配<br>通配符:<br>            *代表所有<br>            ?表示代表-一个字符<br><code>RANDOMKEY</code><br>从当前数据库中随机返回一个key。</p>
<p><code>RENAME key newkey</code><br>修改Key的名称</p>
<p><code>MOVE key db</code><br>将当前数据库的key 移动到给定的数据库db 当中</p>
<p><code>select 0</code></p>
<p>表示切换数据库 0为第一个</p>
<p><code>type key</code></p>
<p>查看类型</p>
<p><code>flushdb</code></p>
<p>删除数据库内所有数据</p>
</blockquote>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><blockquote>
<p>EXPIRE key seconds<br>1、限时的优惠活动信息<br>2、网站数据缓存(对于一些需要定时更新的数据，例如:积分排行榜)<br>3、手机验证码<br>4、限制网站访客访问频率(例如: 1分钟最多访问10次)</p>
</blockquote>
<p>redis单个 key 存入 512M 大小</p>
<h1 id="key命名规范"><a href="#key命名规范" class="headerlink" title="key命名规范"></a>key命名规范</h1><p>1.key不要太长，尽量不要超过1024字节,这不仅消耗内存，而且会降低查找的效率;<br>2.key也不要太短，太短的话，key的可读性会降低;<br>3.在一个项目中，key 最好使用统一的命名模式， 例如user:123:password;</p>
<p>user 表名 123 id password 对应的数据</p>
<p>4.key区分大小写</p>
<h1 id="Redis数据类型"><a href="#Redis数据类型" class="headerlink" title="Redis数据类型"></a>Redis数据类型</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>string是redis最基本的类型，一个key对应一个value.<br>string类型是二进制安全的。意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象<br>string类型是Redis最基本的数据类型，一个键最大能存储512MB。<br><span style="color:red">二进制安全是指，在传输数据时，保证二进制数据的信息安全，也就是不被篡<br>改、破译等，如果被攻击，能够及时检测出来</span><br>二进制安全特点:<br>1、编码、解码发生在客户端完成，执行效率高<br>2、不需要频繁的编解码，不会出现乱码</p>
</blockquote>
<h2 id="String命令"><a href="#String命令" class="headerlink" title="String命令"></a>String命令</h2><h3 id="赋值语法"><a href="#赋值语法" class="headerlink" title="赋值语法:"></a><strong>赋值语法:</strong></h3><blockquote>
<p><span style="color:red">SET KEY_NAME VALUE</span><br>Redis SET命令用于设置给定key 的值。如果key已经存储值，SET 就覆写旧值，且无视类型</p>
<p><span style="color:red">SETNX key value</span> //解决分布式锁 方案之一<br>只有在key不存在时设置key 的值。Setnx ( SET if Not eXists)命令 在指定的key 不存在时，为key设置指定的值，相当于创建一个key并赋值</p>
<p><span style="color:red">MSET key value [key value …]</span><br>同时设置一个或多个key -value对</p>
</blockquote>
<h3 id="取值语法"><a href="#取值语法" class="headerlink" title="取值语法:"></a><strong>取值语法:</strong></h3><blockquote>
<p><span style="color:red">GET KEY_ NAME</span><br>Redis GET命令用于获取指定key 的值。如果key不存在，返回nil。如果key储存的<br>值不是字符串类型，返回一个错误。</p>
<p><span style="color:red">GETRANGE key start end</span></p>
<p>用于获取存储在指定key 中字符串的子字符串。字符串的截取范围由start 和end两个<br>偏移量决定(包括start 和end在内)</p>
<p><span style="color:red">GETBIT key offset</span><br>对key所储存的字符串值，获取指定偏移量上的位(bit)</p>
<p><span style="color:red">MGET key1 [key2..]</span><br>获取所有(一个或多个)给定key 的值</p>
<p><span style="color:red">GETSET语法：GETSET KEY_ NAME  VALUE</span><br>Getset命令用于设置指定key 的值，并返回key 的旧值,当key 不存在时，返回nil</p>
<p><span style="color:red">STRLEN key</span><br>返回key所储存的字符串值的长度</p>
</blockquote>
<h3 id="删除语法"><a href="#删除语法" class="headerlink" title="删除语法:"></a>删除语法:</h3><blockquote>
<p><span style="color:red">DEL KEY_Name</span></p>
<p>删除指定的 key 如果 删除成功 则返回一个数字</p>
</blockquote>
<h3 id="自增-自减"><a href="#自增-自减" class="headerlink" title="自增/自减:"></a>自增/自减:</h3><blockquote>
<p><span style="color:red">INCR KEY_ Name</span><br>Incr命令将key中储存的数字值增1。如果key不存在，那么key的值会先被初始化为<br>0 ,然后再执行INCR操作</p>
<p><span style="color:red">自增: INCRBY KEY_Name增量值</span><br>Incrby命令将key中储存的数字加上指定的增量值</p>
<p><span style="color:red">自减: DECR KEY_NAME  或  DECYBY KEY_NAME 减值</span><br>decR命令将key中储存的数字减1</p>
<p><span style="color:red">字符串拼接: APPEND KEY_NAME VALUE</span><br>Append命令用于为指定的key 追加至未尾，如果不存在，为其赋值</p>
</blockquote>
<h3 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景"></a>应用场景</h3><blockquote>
<p>1、String通常用于保存单个字符串或JSON字符串数据<br>2、因String是二进制安全的，所以你完全可以把一个图片文件的内容作为字符串来存储<br>3、计数器(常规key-value缓存应用。常规计数:微博数,粉丝数)<br>INCR等指令本身就具有原子操作的特性,所以我们完全可以利用redis的INCR、INCRBY、DECR、<br>DECRBY等指令来实现原子计数的效果。假如,在某种场景下有3个客户端同时读取了mynum的值(值为2),然后对其同时进行了加1的操作,那么，最后mynum的值一定是5。不少网站都利用redis的这个特性来实现业务.上的统计计数需求。</p>
</blockquote>
<h2 id="哈希（Hash）"><a href="#哈希（Hash）" class="headerlink" title="哈希（Hash）"></a>哈希（Hash）</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>Redis hash是一个string类型的 field和value 的映射表，hash 特别适合用于存储对象。Redis 中每个hash可以存储2的32次方-1 键值对(40 多亿)<br>可以看成具有KEY和VALUE的MAP容器，该类型非常适合于存储值对象的信息，<br>如: uname, upass, age等。该类型的数据仅占用很少的磁盘空间(相比于JSON)</p>
</blockquote>
<h3 id="Hash命令"><a href="#Hash命令" class="headerlink" title="Hash命令"></a>Hash命令</h3><h4 id="赋值语法："><a href="#赋值语法：" class="headerlink" title="赋值语法："></a>赋值语法：</h4><blockquote>
<p><span style="color:red">HSET KEY FIELD VALUE</span>  //为指定 的KEY,设定FILD/VALUE<br><span style="color:red">HMSET KEY FIELD VALUE [FIELD1, VALUE1]</span>…..同时将多个field-value(域-值)对设置到哈希表key中。<br>hmset users uname guo age 20 address “北京市”<br>其中 String可以覆盖 hmset，反之会报错</p>
</blockquote>
<h4 id="取值语法："><a href="#取值语法：" class="headerlink" title="取值语法："></a><strong>取值语法：</strong></h4><blockquote>
<p><span style="color:red">HGET KEY FIELD</span>      //获取存 储在HASH中的值，根据FIELD得到VALUE<br><span style="color:red">HMGET key field[field1]    </span>//获取 key所有给定字段的值<br><span style="color:red">HGETALL key    </span>//返回HASH表中所有的字段和值<br><span style="color:red">HKEYS key     </span>//获取所有 哈希表中的字段<br><span style="color:red">HLEN key    </span>// 获取哈希表中字段的数量</p>
</blockquote>
<h4 id="删除语法-1"><a href="#删除语法-1" class="headerlink" title="删除语法"></a>删除语法</h4><p>DEL KEY</p>
<p>直接删除整个KEY</p>
<p>HDEL KEY FIELD</p>
<p>删除某一个属性</p>
<h4 id="其它语法"><a href="#其它语法" class="headerlink" title="其它语法:"></a>其它语法:</h4><blockquote>
<p><span style="color:red">HSETNX key field value</span><br>只有在字段field不存在时，设置哈希表字段的值</p>
<p><span style="color:red">HINCRBY key field increment</span><br>为哈希表key中的指定字段的整数值加上增量increment。</p>
<p><span style="color:red">HINCRBYFLOAT key field increment</span><br>为哈希表key中的指定字段的浮点数值加上增量increment。</p>
<p><span style="color:red">HEXISTS key field</span></p>
<p>查看哈希表 key中，指定的字段是否存在</p>
</blockquote>
<h4 id="应用场景-2"><a href="#应用场景-2" class="headerlink" title="应用场景"></a>应用场景</h4><p>常用于存储对象</p>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部(左边)或者尾部(右边)一个列表最多可以包含2得32次方- 1个元素(4294967295，每个列表超过40亿个元素) 类似JAVA中的LinkedList</p>
</blockquote>
<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><h4 id="赋值语法-1"><a href="#赋值语法-1" class="headerlink" title="赋值语法"></a>赋值语法</h4><blockquote>
<p>LPUSH key value1 [value2]  //将 一个或多个值插入到列表头部(从左侧添加)<br>RPUSH key value1 [value2] //在列表 中添加一个或多 个值(从右侧添加)<br>LPUSHX key value //将一个值插入到已存在的列表头部。如果列表不在，操作无效<br>RPUSHX key value //一个值插入已存在的列表尾部(最右边)。如果列表不在,操作无效。</p>
</blockquote>
<h4 id="取值语法-1"><a href="#取值语法-1" class="headerlink" title="取值语法"></a>取值语法</h4><blockquote>
<p>LLEN key //获取列表长度<br>LINDEX key index //通过索 引获取列表中的元素<br>LRANCE key start stop //获 取列表指定范围内的元素</p>
<p>描述:返回列表中指定区间内的元素，区间以偏移里START和END指定。其中0表示表的第一个元素，1表示列表的第二个元素，以此类推。也可以使用负数下标，以-1表示列表的最后一个元素，-2表示列表的倒数第二个元素，以此类推。</p>
</blockquote>
<h4 id="删除语法-2"><a href="#删除语法-2" class="headerlink" title="删除语法"></a>删除语法</h4><blockquote>
<p>LPOP key移出并 获取列表的第一个元素(从左侧删除)</p>
<p>RPOP key移出并 获取列表的最后一个元素(从右侧删除)</p>
<p>BLPOP key1 [key2 ] timeout<br>移出并获取列表的第一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。timeout为秒</p>
<p>BRPOP key1 [key2 ] timeout<br>移出并获取列表的最后一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</p>
<p>LTRIM key start stop<br>对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素，不在指定区间之内的元素都将被删除。</p>
</blockquote>
<h4 id="修改语法"><a href="#修改语法" class="headerlink" title="修改语法"></a>修改语法</h4><blockquote>
<p>LSET key index value  通过索 引设置列表元素的值<br>LINSERT key BEFORE |AFTER world value 在列表的元素前或者后插入元素  描述:将值value 插入到列表key 当中，位于值world 之前或之后。</p>
</blockquote>
<h4 id="高级语法"><a href="#高级语法" class="headerlink" title="高级语法"></a>高级语法</h4><blockquote>
<p>RPOPLPUSH source destination<br>移除列表的最后一个元素,并将该元素添加到另一个列表并返回<br>示例描述:<br>RPOPLPUSH a1 a2 //a1 的最后元素移到a2的左侧<br>RPOPLPUSH a1 a1 //循环列表， 将最后元素移到最左侧</p>
<p>BRPOPLPUSH source destination timeout<br>从列表中弹出一个值,将弹出的元素插入到另外一个列表中并返回它;如果列表没有元素<br>会阻塞列表直到等待超时或发现可弹出元素为止。</p>
</blockquote>
<h3 id="应用场景-3"><a href="#应用场景-3" class="headerlink" title="应用场景"></a>应用场景</h3><p>项目常应用于: 1、对数据量大的集合数据删减2、任务队列<br>1、对数据量大的集合数据删减<br>列表数据显示、关注列表、粉丝列表、留言评价等..分页、热点新闻(Top5)等</p>
<p>利用LRANGE还可以很方便的实现分页的功能,在博客系统中,每片博文的评论也可以存入一个单独的list中。</p>
<h2 id="Set类型"><a href="#Set类型" class="headerlink" title="Set类型"></a>Set类型</h2><h3 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>Redis的Set 是String类型的无序集合。集合成员是唯-一的,这就意味着集合中不能出现重复的数据。Redis中集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是0(1)。</p>
<p>集合中最大的成员数为2的32次方-1 (4294967295, 每个集合可存储40多亿个成员)。<br>类似于JAVA中的Hashtable 集合<br>redis的集合对象set的底层存储结构特别神奇,底层使用了intset 和hashtable两种数<br>据结构存储的，intset 我们可以理解为数组，hashtable 就是普通的哈希表(key 为set<br>的值，value 为null)。<br>intset内部其实是一个数组(int8_ t coentents[数组)，而且存储数据的时候是有序的，<br>因为在查找数据的时候是通过二分查找来实现的。</p>
</blockquote>
<h3 id="命令-1"><a href="#命令-1" class="headerlink" title="命令"></a>命令</h3><h4 id="赋值语法-2"><a href="#赋值语法-2" class="headerlink" title="赋值语法"></a>赋值语法</h4><blockquote>
<p>SADD key memberl [member2] 向集合添加一一个或多个成员</p>
</blockquote>
<h4 id="取值语法-2"><a href="#取值语法-2" class="headerlink" title="取值语法"></a>取值语法</h4><blockquote>
<p>SCARD key 获取集合的成员数<br>SMEMBERS key 返回集合中的所有成员<br>SISMEMBER key member 判断member元素是否是集合key 的成员(开发中:验证是否<br>存在判断)<br>SRANDMEMBER key [count]返回集合中一个或多个随机数</p>
</blockquote>
<h4 id="删除语法-3"><a href="#删除语法-3" class="headerlink" title="删除语法"></a>删除语法</h4><blockquote>
<p>SREM key member1 [member2] 移除集合中-一个或多个成员<br>SPOP key [count]移除并返回集合中的一个随机元素<br>SMOVE source destination member 将member元素从source 集合移动到destination 集合</p>
</blockquote>
<h4 id="差集语法"><a href="#差集语法" class="headerlink" title="差集语法"></a>差集语法</h4><blockquote>
<p>SDIFF key1 [key2] 返回给定所有集合的差集(左侧)<br>SDIFFSTORE destination key1 [key2]返回给定所有集合的差集并存储在destination 中</p>
</blockquote>
<h4 id="交集语法"><a href="#交集语法" class="headerlink" title="交集语法"></a>交集语法</h4><blockquote>
<p>SINTER key1 [key2]返回给定所有集合的交集(共有数据)<br>SINTERSTORE destination key1 [key2]返回给定所有集合的交集并存储在destination 中</p>
</blockquote>
<h4 id="并集语法"><a href="#并集语法" class="headerlink" title="并集语法"></a>并集语法</h4><blockquote>
<p>SUNION key1 [key2]返回所有给定集合的并集<br>SUNIONSTORE destination key1 [key2]所有给定集合 的并集存储在destination 集合中</p>
</blockquote>
<h3 id="应用场景-4"><a href="#应用场景-4" class="headerlink" title="应用场景"></a>应用场景</h3><blockquote>
<p>常应用于:对两个集合间的数据[计算]进行交集、并集、差集运算</p>
<p>1、以非常方便的实现如共同关注，共同喜好。二度好友等功能。对上面的所有<br>集合操作，你还可以使用不同的命令选择将结果返回给客户端还是存储到一个新<br>的集合中。</p>
<p>2、利用唯一性，可以统计访问网站的所有独立IP</p>
</blockquote>
<h2 id="zset"><a href="#zset" class="headerlink" title="zset"></a>zset</h2><p>有序集合(sorted set)</p>
<h3 id="简介-4"><a href="#简介-4" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>1、Redis有序集合和集合一 样也是string类型元素的集合，且不允许重复的成员。<br>2、不同的是每个元素都会关联一个double类型的分数。 redis正是 通过分数来为集合中的成员进行从小到大的排序。<br>3、有序集合的成员是唯一的,但分数(score)却可以重复。<br>4、集合是通过哈希表实现的。集合中最大的成员数为2次方32 - 1 (4294967295,每个集合可存储40多亿个成员)。Redis的ZSet是有序、 且不重复<br>(很多时候，我们都将redis中的有序集合叫做zsets，这是因为在redis中，有序集合相关的操作指令都是以z开头的)</p>
</blockquote>
<h3 id="命令-2"><a href="#命令-2" class="headerlink" title="命令"></a>命令</h3><h4 id="赋值语法-3"><a href="#赋值语法-3" class="headerlink" title="赋值语法:"></a>赋值语法:</h4><blockquote>
<p>ZADD key score1 member1 [score2 member2] : 向有序集合添加一个或多个成员，或者更新已存在成员的分数</p>
</blockquote>
<h4 id="取值语法-3"><a href="#取值语法-3" class="headerlink" title="取值语法:"></a>取值语法:</h4><blockquote>
<p>ZCARD key  : 获取有序集合的成员数<br>ZCOUNT key min max  :计算在有序集合中指定区间分数的成员数<br>ZRANK key member  : 返回有序集合中指定成员的索引<br>ZRANGE key start stop [WITHSCORES] :通过索引区间返回有 序集台成指定区间内的成员(低到高)<br>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT] :通过分数返回有序集合指定区间内的成员<br>ZREVRANGE key start stop [WITHSCORES] :返回有序集中指定区间内的成员 ，通过索引,分数从高到底<br>ZREVRANGEBYSCORE key max min [WITHSCORES] : 返回有序集中指定分数区间内的成员,分数从高到低排序</p>
</blockquote>
<h4 id="删除语法-4"><a href="#删除语法-4" class="headerlink" title="删除语法:"></a>删除语法:</h4><blockquote>
<p>DEL key :移除集合</p>
<p>ZREM key member [member . ..] :移除有序集合中的一一个或多个成员<br>ZREMRANGEBYRANK key start stop :移除有序集合中给定的排名区间的所有成员(第一名是0) (低到高排序)<br>ZREMRANGEBYSCORE key min max :移除有 序集合中给定的分数区间的所有成员</p>
<p>ZINCRBY key increment member :增加memeber元素的分数increment，返回值是更改后的分数</p>
</blockquote>
<h3 id="应用场景-5"><a href="#应用场景-5" class="headerlink" title="应用场景"></a>应用场景</h3><blockquote>
<p>常应用于:排行榜<br>销量排名,积分排名等<br>1、比如twitter的public timeline可以以发表时间作为score来存储,这样获取时就是自动按时间排好序的。<br>2、比如一个存储全班同学成绩的Sorted Set ,其集合value可以是同学的学号,而score就可以是其考试得分，这样在数据插入集合的时候,就已经进行了天然的排序。<br>3、还可以用Sorted Set来做带权重的队列,比如普通消息的score为1 ,重要消息的score为2 ,然后工作线程可以选择按score的倒序来获取工作任务。让重要的任务优先执行。</p>
</blockquote>
<h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h2><h3 id="简介-5"><a href="#简介-5" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>Redis: 在2.8.9版本添加了HyperLogLog 结构。<br>Redis HyperLoglog 是用来做基数统计的算法, HyperLoglog的优点是，在输入元素的数量或者体积非常非常大时，计算基数。所需的空间总是固定的、并且是很小的。</p>
<p>在Redis里面，每个HyperLoglog 键只需要花费12 KB内存,就可以计算接近2的64次方个不同元素的基数。这和计算基数时,元素越多耗费内存就越多的集合形成鲜明对比。<br>但是，因为HyperLoglog 只会根据输入元素来计算基数,而不会储存输入元素本身,所以HyperLoglog不能像集合那样,返回输入的各个元素。</p>
</blockquote>
<blockquote>
<p>小知识:<br>什么是基数?<br>比如數据集{1, 3，5, 7，5，7，8}，那么这个数据集的基数集为{1，3，5 ,7, 8}，基数(不重复元素)为5。<br>基数估计就是在误差可接受的范围内，快速计算基数。</p>
</blockquote>
<h3 id="为什么需要HyperLogLog"><a href="#为什么需要HyperLogLog" class="headerlink" title="为什么需要HyperLogLog"></a>为什么需要HyperLogLog</h3><blockquote>
<p>如果要統计1亿个數据的基数值，大约需要内存10000000/8/1024/1024约等于12M， 内存减少占用的效果显著。<br>然而统计一个对象的基数值需要12M，如果统计10000个对象，就需要将近120G，同样不能广泛用于大数据场最。</p>
</blockquote>
<h3 id="命令-3"><a href="#命令-3" class="headerlink" title="命令"></a>命令</h3><blockquote>
<p>PFADD key element [e1ement .. ] ;添加指定元表到 HyperLoglog 中<br>PFCOUNT key [key ..] :返回给定Hyperloglog 的基数估算值<br>PFMERGE destkey sourcekey [sourcekey .. :将多个HyperLoglog 合井为一个HyperlogLog</p>
</blockquote>
<h3 id="应用场景-6"><a href="#应用场景-6" class="headerlink" title="应用场景"></a>应用场景</h3><blockquote>
<p>基数不大,数据量不大就用不上.会有点大材小用浪费空间<br>有局限性,就是只能统计基数数量，而没办法去知道具体的内容是什么</p>
</blockquote>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">统计注册IP数</span><br><span class="line">统计每日访问IP数</span><br><span class="line">统计页面实时UV數</span><br><span class="line">统计在线用户数</span><br><span class="line">统计用户每天搜索不同词条的个数</span><br><span class="line">统计真实文章阅读数</span><br></pre></td></tr></table></figure></div>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">惑</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://huohuohuohuohuohuo.github.io/2020/03/03/Redis/">https://huohuohuohuohuohuo.github.io/2020/03/03/Redis/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://huohuohuohuohuohuo.github.io">惑</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis    </a></div><div class="post_share"><div class="social-share" data-image="http://q8rorzm33.bkt.clouddn.com/%E7%83%AD%E7%88%B1%E5%AD%A6%E4%B9%A07.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/05/SpringBoot%E6%95%B4%E5%90%88Redis/"><img class="prev_cover lazyload" data-src="http://q8rorzm33.bkt.clouddn.com/Spring.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>SpringBoot整合Redis</span></div></a></div><div class="next-post pull_right"><a href="/2020/02/27/Vue2/"><img class="next_cover lazyload" data-src="https://cn.vuejs.org/images/logo.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Vue2</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/03/06/Linux命令/" title="Linux命令"><img class="relatedPosts_cover lazyload"data-src="https://i.postimg.cc/j2jQKLxz/Linux.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-06</div><div class="relatedPosts_title">Linux命令</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/14/Redis进阶/" title="Redis进阶"><img class="relatedPosts_cover lazyload"data-src="http://q8rorzm33.bkt.clouddn.com/redis-white.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-14</div><div class="relatedPosts_title">Redis进阶</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/05/SpringBoot整合Redis/" title="SpringBoot整合Redis"><img class="relatedPosts_cover lazyload"data-src="http://q8rorzm33.bkt.clouddn.com/Spring.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-05</div><div class="relatedPosts_title">SpringBoot整合Redis</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'NUX37gQJU0r3YrAOapcyhb7C-gzGzoHsz',
  appKey:'GHq929bhcc9xh2EF02O3NKx9',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(http://q8rorzm33.bkt.clouddn.com/%E7%83%AD%E7%88%B1%E5%AD%A6%E4%B9%A07.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By 惑</div><div class="framework-info"><span> </span><a href="https://huohuohuohuohuohuo.github.io/"><span>Welcome To MyBlog</span></a><span class="footer-separator">|</span><span> </span><a href="tencent://message/?Menu=yes&amp;uin=1839743406&amp;Service=300&amp;sigT=45a1e5847943b64c6ff3990f8a9e644d2b31356cb0b4ac6b24663a3c8dd0f8aa12a595b1714f9d45"><span>惑</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="ribbon_piao" mobile="true" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>